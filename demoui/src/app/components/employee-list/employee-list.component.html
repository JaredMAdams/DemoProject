<div class="main">

    <h1 class="header">Employee List</h1>

    <div class="search-create-div">

        <mat-form-field>

            <mat-label>Search By</mat-label>

            <mat-select [(value)]="this.searchBy">

                <mat-option value="Everyone">Everyone</mat-option>
                <mat-option value="First Name">First Name</mat-option>
                <mat-option value="Last Name">Last Name</mat-option>
                <mat-option value="City">City</mat-option>
                <mat-option value="State">State</mat-option>
                <mat-option value="Zip Code">Zip Code</mat-option>
                
            </mat-select>

        </mat-form-field>

        <mat-form-field *ngIf="this.searchBy != 'Everyone' && this.searchBy != 'State'" style="margin-left: 2%">

            <input matInput placeholder="Search..." [(ngModel)]="this.searchParam" appearance="fill">

        </mat-form-field>

        <mat-form-field *ngIf="this.searchBy == 'State'" style="margin-left: 2%">

            <mat-label>State</mat-label>

            <mat-select [(value)]="searchParamState">
                <mat-option value="Alabama">Alabama</mat-option>
                <mat-option value="Alaska">Alaska</mat-option>
                <mat-option value="Alberta">Alberta</mat-option>
                <mat-option value="American Samoa">American Samoa</mat-option>
                <mat-option value="Arizona">Arizona</mat-option>
                <mat-option value="Armed Forces (AE)">Armed Forces (AE)</mat-option>
                <mat-option value="Armed Forces Americas">Armed Forces Americas</mat-option>
                <mat-option value="Armed Forces Pacific">Armed Forces Pacific</mat-option>
                <mat-option value="British Columbia">British Columbia</mat-option>
                <mat-option value="California">California</mat-option>
                <mat-option value="Colorado">Colorado</mat-option>
                <mat-option value="Connecticut">Connecticut</mat-option>
                <mat-option value="Georgia">Georgia</mat-option>
                <mat-option value="Guam">Guam</mat-option>
                <mat-option value="Hawaii">Hawaii</mat-option>
                <mat-option value="Idaho">Idaho</mat-option>
                <mat-option value="Illinois">Illinois</mat-option>
                <mat-option value="Indiana">Indiana</mat-option>
                <mat-option value="Iowa">Iowa</mat-option>
                <mat-option value="Kansas">Kansas</mat-option>
                <mat-option value="Kentucky">Kentucky</mat-option>
                <mat-option value="Louisiana">Louisiana</mat-option>
                <mat-option value="Maine">Maine</mat-option>
                <mat-option value="Manitoba">Manitoba</mat-option>
                <mat-option value="Maryland">Maryland</mat-option>
                <mat-option value="Massachusetts">Massachusetts</mat-option>
                <mat-option value="Michigan">Michigan</mat-option>
                <mat-option value="Minnesota">Minnesota</mat-option>
                <mat-option value="Mississippi">Mississippi</mat-option>
                <mat-option value="Missouri">Missouri</mat-option>
                <mat-option value="Montana">Montana</mat-option>
                <mat-option value="Nebraska">Nebraska</mat-option>
                <mat-option value="Nevada">Nevada</mat-option>
                <mat-option value="New Brunswick">New Brunswick</mat-option>
                <mat-option value="New Hampshire">New Hampshire</mat-option>
                <mat-option value="New Jersey">New Jersey</mat-option>
                <mat-option value="New Mexico">New Mexico</mat-option>
                <mat-option value="New York">New York</mat-option>
                <mat-option value="Newfoundland">Newfoundland</mat-option>
                <mat-option value="North Carolina">North Carolina</mat-option>
                <mat-option value="North Dakota">North Dakota</mat-option>
                <mat-option value="Northwest Territories">Northwest Territories</mat-option>
                <mat-option value="Nova Scotia">Nova Scotia</mat-option>
                <mat-option value="Nunavut">Nunavut</mat-option>
                <mat-option value="Ohio">Ohio</mat-option>
                <mat-option value="Oklahoma">Oklahoma</mat-option>
                <mat-option value="Ontario">Ontario</mat-option>
                <mat-option value="Oregon">Oregon</mat-option>
                <mat-option value="Pennsylvania">Pennsylvania</mat-option>
                <mat-option value="Prince Edward Island">Prince Edward Island</mat-option>
                <mat-option value="Puerto Rico">Puerto Rico</mat-option>
                <mat-option value="Quebec">Quebec</mat-option>
                <mat-option value="Rhode Island">Rhode Island</mat-option>
                <mat-option value="Saskatchewan">Saskatchewan</mat-option>
                <mat-option value="South Carolina">South Carolina</mat-option>
                <mat-option value="South Dakota">South Dakota</mat-option>
                <mat-option value="Tennessee">Tennessee</mat-option>
                <mat-option value="Texas">Texas</mat-option>
                <mat-option value="Utah">Utah</mat-option>
                <mat-option value="Vermont">Vermont</mat-option>
                <mat-option value="Virgin Islands">Virgin Islands</mat-option>
                <mat-option value="Virginia">Virginia</mat-option>
                <mat-option value="Washington">Washington</mat-option>
                <mat-option value="West Virginia">West Virginia</mat-option>
                <mat-option value="Wisconsin">Wisconsin</mat-option>
                <mat-option value="Wyoming">Wyoming</mat-option>
                <mat-option value="Yukon Territory">Yukon Territory</mat-option>
            </mat-select>

        </mat-form-field>

            <button mat-flat-button color="primary" style="margin-left: 2%" (click)="searchEmployees()">Search</button>


        <button mat-flat-button color="primary" style="float: right;" (click)="createEmployee();">
            <mat-icon>add</mat-icon> New Employee
        </button>

    </div>

    <br><br>

    <div class="table">

        <table mat-table [dataSource]="dataSource">

            <ng-container matColumnDef="number">
                <th mat-header-cell *matHeaderCellDef="">No.</th>
                <td mat-cell *matCellDef="let employee; let i = index">{{i + 1}}</td>
            </ng-container>

            <ng-container matColumnDef="first_name">
                <th mat-header-cell *matHeaderCellDef="">First Name</th>
                <td mat-cell *matCellDef="let employee">{{employee.firstName}}</td>
            </ng-container>

            <ng-container matColumnDef="last_name">
                <th mat-header-cell *matHeaderCellDef="">Last Name</th>
                <td mat-cell *matCellDef="let employee">{{employee.lastName}}</td>
            </ng-container>

            <ng-container matColumnDef="addresses">
                <th mat-header-cell *matHeaderCellDef="">Addresses</th>
                <td mat-cell *matCellDef="let employee">
                    <button mat-icon-button color="primary" aria-label="icon button with an open in new tab icon" (click)="viewAddresses(employee)">
                    <mat-icon>open_in_new</mat-icon>
                  </button>
                </td>
            </ng-container>

            <ng-container matColumnDef="edit">
                <th mat-header-cell *matHeaderCellDef=""></th>
                <td mat-cell *matCellDef="let employee, let i = index">

                    <button mat-icon-button color="primary" aria-label="icon button with an open in new tab icon" (click)="editEmployee(employee)">
                            <mat-icon>edit</mat-icon>
                    </button>

                </td>
            </ng-container>

            <ng-container matColumnDef="delete">
                <th mat-header-cell *matHeaderCellDef=""></th>
                <td mat-cell *matCellDef="let employee, let i = index">

                    <button mat-icon-button color="primary" aria-label="icon button with an open in new tab icon" (click)="deleteEmployee(employee.employeeId, i)">
                    <mat-icon>delete</mat-icon>
                  </button>

                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        </table>

        <mat-paginator #paginator id="paginator" [length]="100"
            [pageSize]="5"
            [pageSizeOptions]="[5, 10, 20]"
            aria-label="Select page">
        </mat-paginator>

    </div>

</div>